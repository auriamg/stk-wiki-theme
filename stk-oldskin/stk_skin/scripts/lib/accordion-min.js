if(typeof Effect=="undefined"){throw ("accordion.js requires including script.aculo.us' effects.js library!")}var accordion=Class.create();accordion.prototype={showAccordion:null,currentAccordion:null,duration:null,effects:[],animating:false,initialize:function(b,a){if(!$(b)){throw (b+" doesn't exist!");return false}this.options=Object.extend({resizeSpeed:8,classNames:{toggle:"accordion_toggle",toggleActive:"accordion_toggle_active",content:"accordion_content",contentActive:"accordion_content_active"},defaultSize:{height:null,width:null},direction:"vertical",onEvent:"click"},a||{});this.duration=((11-this.options.resizeSpeed)*0.15);var c=$$("#"+b.identify()+" ."+this.options.classNames.toggle);c.each(function(e){Event.observe(e,this.options.onEvent,this.activate.bind(this,e),false);if(this.options.onEvent=="click"){e.onclick=function(){return false}}if(this.options.direction=="horizontal"){var d=$H({width:"0px"})}else{var d=$H({height:"0px"})}d.merge({display:"none"});this.currentAccordion=$(e.next(0)).setStyle(d)}.bind(this))},activate:function(a){if(this.animating){return false}this.effects=[];this.currentAccordion=$(a.next(0));this.currentAccordion.setStyle({display:"block"});this.currentAccordion.previous(0).addClassName(this.options.classNames.toggleActive);this.currentAccordion.addClassName(this.options.classNames.contentActive);if(this.currentAccordion==this.showAccordion){this.deactivate()}else{this._handleAccordion()}},deactivate:function(){this.showAccordion.previous(0).removeClassName(this.options.classNames.toggleActive);this.showAccordion.removeClassName(this.options.classNames.contentActive);this.showAccordion.setStyle({height:"auto",display:"none"});this.showAccordion=null;this.animating=false},_handleAccordion:function(){if(this.showAccordion){this.showAccordion.setStyle({display:"none"});this.showAccordion.previous(0).removeClassName(this.options.classNames.toggleActive);this.showAccordion.removeClassName(this.options.classNames.contentActive)}this.showAccordion=this.currentAccordion;this.showAccordion.setStyle({display:"block",height:"auto"});this.animating=false}};